<Window 
 x:Name="Fast"
 x:Class="SSHF.MainWindow"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" mc:Ignorable="d"
 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 xmlns:l="clr-namespace:SSHF"
 xmlns:vm="clr-namespace:SSHF.ViewModels.MainWindowViewModel"
 Title="MainWindow" 
 xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors" 
 xmlns:cursor="clr-namespace:SSHF.Infrastructure.SharedFunctions"
    AllowsTransparency="True"
 SizeToContent="WidthAndHeight"
 Background="Transparent"
 WindowStyle="None" 
 Width="1920"
    Height="1080"

 Topmost="True" WindowStartupLocation="CenterScreen"
    UseLayoutRounding="True">

    <Window.DataContext>
        <vm:MainWindowViewModel/>
    </Window.DataContext>


    <StackPanel Orientation="Horizontal">

        <StackPanel Canvas.Left="1088" Canvas.Top="212" x:Name="Stack1" Visibility="Hidden">
            <Button FontFamily="Franklin Gothic" Height="100" FontSize="32" Content="Выбрать картинку" Command="{Binding Path=SelectFileCommand}"></Button>
            <Button Command="{Binding ApplicationShutdown}" FontFamily="Franklin Gothic" Height="100" FontSize="32" Content="Выйти" >

            </Button>
        </StackPanel>
        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">

        <!--<Border BorderThickness="1" BorderBrush="Coral" VerticalAlignment="Top">-->
        <Button 
            SnapsToDevicePixels="True" 
            
           
            x:Name="But"
            Style="{DynamicResource ButtonImage}" 
            
            Command ="{Binding RefreshOnCommand}"          
            Margin="0,0,0,0" 

            
            VerticalContentAlignment="Stretch"
            HorizontalContentAlignment="Stretch"
            Height="361"
            Width="765"
          
            Focusable="False" 
            IsEnabled="True"
            Canvas.Left="311" 
            Canvas.Top="214"
            >
            <Image
              
                Source="{Binding Image}"
                Height="{Binding Image.Height}"
                Width="{Binding Image.Width}" VerticalAlignment="Center" HorizontalAlignment="Center">
            </Image>

            <!--<Image Source="{Binding Image}"/>-->
            <!--<Button.Background>
                <ImageBrush ImageSource="{Binding Image}"/>
            </Button.Background>-->

            <!--<Button.Foreground>
                <ImageBrush ImageSource="{Binding Image}"/>
            </Button.Foreground>-->
            <Button.OpacityMask>
                <ImageBrush ImageSource="{Binding ImageOpacity}"/>
            </Button.OpacityMask>

            <behaviors:Interaction.Triggers>
                <behaviors:EventTrigger EventName="MouseRightButtonUp">

                    <!--<behaviors:InvokeCommandAction Command="{Binding ElementName=Stack1, Path=Visibility}"/>-->
                    <behaviors:ChangePropertyAction  TargetObject="{Binding ElementName=Stack1}" PropertyName="Visibility" Value="Visible"/>
                </behaviors:EventTrigger>
            </behaviors:Interaction.Triggers>

        </Button>
        <!--</Border>-->        
      </Grid>
    </StackPanel>



</Window>
